(this.webpackJsonpsudoku_solver_hooks=this.webpackJsonpsudoku_solver_hooks||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(2),l=n.n(r),o=n(5),a=n.n(o),u=(n(10),n(1)),c=n(3),s=function e(t){var n=[];return t.forEach((function(t){Array.isArray(t)?n.push(e(t)):n.push(t)})),n};function i(e,t,n){for(var r=new Array(e[0].length+1).fill(!1),l=0;l<e[0].length;l++){if(r[e[t][l]]&&0!==e[t][l])return!0;r[e[t][l]]=!0}r=new Array(e[0].length+1).fill(!1);for(var o=0;o<e.length;o++){if(r[e[o][n]]&&0!==e[o][n])return!0;r[e[o][n]]=!0}r=new Array(e[0].length+1).fill(!1);for(var a=3*Math.floor(n/3),u=3*Math.floor(t/3),c=0;c<3;c++)for(var s=0;s<3;s++){if(r[e[a+c][u+s]]&&0!==e[a+c][u+s])return!0;r[e[a+c][u+s]]=!0}return!1}function d(e){for(var t=new Date,n=s(e),r=0,l=1,o=e.length;r<o*o;){if(-1===r)return null;if((new Date-t)/1e3>7)return alert("Timeout"),null;var a=Math.floor(r/o),u=r%o;0!==e[a][u]&&1===l?r++:0!==e[a][u]&&-1===l?r--:(n[a][u]++,n[a][u]>o?(n[a][u]=0,r--,l=-1):i(n,a,u)||(r++,l=1))}return n}function v(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={rows:[],solution:t?n||null:d(e),time:0,solved:!1,solveByAlgo:!1},l=0;l<9;++l){for(var o={cols:[],index:l},a=0;a<9;++a){var u=e[l][a],c=(!t||n)&&0!==u,s={row:l,col:a,value:u,readonly:c,given:c,correct:!1,zero:!1,top_left:l%3===0&&a%3===0,top_mid:l%3===0&&a%3===1,top_right:l%3===0&&a%3===2&&8!==a,top_right_end:l%3===0&&8===a,mid_left:l%3===1&&a%3===0||l%3===2&&a%3===0&&8!==l,mid_right_end:l%3===1&&8===a||l%3===2&&8===a&&8!==l,bottom_left:8===l&&a%3===0,bottom_mid:8===l&&a%3===1,bottom_right:8===l&&a%3===2&&8!==a,bottom_right_end:8===l&&8===a};o.cols.push(s)}r.rows.push(o)}return r}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=String(e).replace(/\s/g,"").split("");if(81===(n=n.map((function(e){return parseInt(e)}))).length&&n.every((function(e){return e<10&&e>=0}))){for(var r=[];n.length;)r.push(n.splice(0,9));return v(r,t)}return!1}var j=n(0);function b(e,t,n){var r=e.target.value.length,l=""===e.value?null:parseInt(e.target.value[r-1],10);n(Object(u.a)(Object(u.a)({},t),{},{value:l}))}function h(e){var t=e.field,n=e.solved,r=e.onChange,l=t.given?{color:"#222"}:n?t.zero?{color:"#008CBA"}:t.correct?{color:"#32CD32"}:{color:"#FF0000"}:{};return t.top_left?Object(j.jsx)("input",{className:"field top_left",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.top_mid?Object(j.jsx)("input",{className:"field top_mid",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.top_right?Object(j.jsx)("input",{className:"field top_right",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.top_right_end?Object(j.jsx)("input",{className:"field top_right_end",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.mid_left?Object(j.jsx)("input",{className:"field mid_left",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.mid_right_end?Object(j.jsx)("input",{className:"field mid_right_end",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.bottom_left?Object(j.jsx)("input",{className:"field bottom_left",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.bottom_mid?Object(j.jsx)("input",{className:"field bottom_mid",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.bottom_right?Object(j.jsx)("input",{className:"field bottom_right",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):t.bottom_right_end?Object(j.jsx)("input",{className:"field bottom_right_end",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}}):Object(j.jsx)("input",{className:"field",value:t.value||"",readOnly:t.readonly,style:l,onChange:function(e){return b(e,t,r)}})}function O(e){var t=Object(r.useState)({timerStart:new Date,prevPause:0,elapsed:0,isActive:!1}),n=Object(c.a)(t,2),l=n[0],o=n[1],a=e.time,s=e.updateTime;return Object(r.useEffect)((function(){var e=null;return l.isActive&&(e=setInterval((function(){var e=Math.floor((new Date-l.timerStart+l.prevPause)/1e3);o((function(t){return Object(u.a)(Object(u.a)({},t),{},{elapsed:e})})),s(e)}),10)),function(){return clearInterval(e)}}),[a,s,l]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:["Time: ",l.elapsed,"s "]}),Object(j.jsxs)("div",{className:"row",style:{marginBottom:"5px"},children:[Object(j.jsxs)("button",{className:"button button-primary-".concat(l.isActive?"active":"inactive"),onClick:function(){var e=l.isActive;if(o((function(t){return Object(u.a)(Object(u.a)({},t),{},{isActive:!e})})),e){var t=new Date-l.timerStart+l.prevPause,n=Math.floor(t/1e3);o((function(e){return Object(u.a)(Object(u.a)({},e),{},{prevPause:t,elapsed:n})})),s(n)}else o((function(e){return Object(u.a)(Object(u.a)({},e),{},{timerStart:new Date})}))},children:[" ",l.isActive?"Pause":"Start"]}),"\xa0\xa0\xa0",Object(j.jsx)("span",{className:0===l.elapsed?"not-allowed":"",children:Object(j.jsx)("button",{className:0===l.elapsed?"button unclickable":"button",onClick:function(){o((function(e){return Object(u.a)(Object(u.a)({},e),{},{elapsed:0,prevPause:0,isActive:!1})})),s(0)},children:"Reset"})})]})]})}function p(e){var t=e.sudoku,n=e.resetBoard,r=t.time;return Object(j.jsxs)("div",{children:[t.solveByAlgo?Object(j.jsxs)("h2",{children:["Sudoku solved via algorithm, ",r," seconds"]}):Object(j.jsxs)("h2",{children:["Sudoku solved in ",r," seconds"]}),Object(j.jsx)("button",{className:"button",style:{marginBottom:"5px"},onClick:n,children:"Reset"})]})}function m(e){var t=e.sudoku,n=e.onChange,r=e.updateTime,l=e.resetBoard;return Object(j.jsxs)("div",{children:[!t.solved&&r&&Object(j.jsx)(O,{time:t.time,updateTime:r}),t.solved&&Object(j.jsx)(p,{sudoku:t,resetBoard:l}),0!==t.length&&t.rows&&t.rows.map((function(e){return Object(j.jsx)("div",{className:"row",children:e.cols.map((function(e){return Object(j.jsx)(h,{field:e,solved:t.solved,onChange:n},e.col)}))},e.index)}))]})}n(12);function g(e){var t=e.fileUploadHandler,n=e.selectedFile,r=e.fileName,l=e.fileUploaded,o=e.onClickHandler,a=e.reset,u=e.handleReset,c=e.handleUserGrid,s=e.userSudoku,i=e.userSudokuSolvable,d=e.MIN_GRID_VALUES,v=e.count;return Object(j.jsxs)("div",{className:"grid-options",children:[a&&!s&&Object(j.jsxs)("div",{children:[null!==n&&!l&&Object(j.jsxs)("div",{style:{display:"inline"},children:[Object(j.jsx)("button",{className:"button",onClick:u,children:" Back to Options "}),"\xa0\xa0\xa0"]}),Object(j.jsx)("input",{type:"file",className:"input-file",id:"file",accept:".txt",onChange:t}),Object(j.jsx)("label",{className:"button",htmlFor:"file",children:"Upload a sudoku grid"}),"\xa0\xa0\xa0",null!==n&&!l&&Object(j.jsx)("button",{type:"button",className:"button",onClick:o,children:"Upload"}),null===n&&Object(j.jsx)("button",{className:"button",onClick:function(){return c("create")},children:" Create Grid "})]}),r&&!l&&Object(j.jsx)("p",{style:{display:"inline-block"},children:r}),!a&&Object(j.jsx)("button",{className:"button",onClick:u,children:"New Grid"}),s&&Object(j.jsxs)("div",{style:{marginBottom:"15px"},children:[v<d?Object(j.jsx)("h2",{children:"Add More Values"}):i?"":Object(j.jsx)("h2",{children:"Invalid Sudoku Grid"}),Object(j.jsx)("button",{className:"button",onClick:u,children:" Back to Options "}),"\xa0\xa0\xa0",Object(j.jsx)("button",{className:"button",onClick:function(){return c("reset")},children:" Reset Board "}),"\xa0\xa0\xa0",Object(j.jsx)("span",{className:i?"":"not-allowed",children:Object(j.jsx)("button",{className:i?"button":"button unclickable",onClick:function(){return c("upload")},children:"Upload"})})]})]})}var x=function(){var e=Object(r.useRef)([]),t=Object(r.useRef)(0),n=Object(r.useState)([]),l=Object(c.a)(n,2),o=l[0],a=l[1],s=Object(r.useState)([]),i=Object(c.a)(s,2),b=i[0],h=i[1],O=Object(r.useState)([]),p=Object(c.a)(O,2),x=p[0],y=p[1],_=Object(r.useState)(!0),k=Object(c.a)(_,2),w=k[0],N=k[1],C=Object(r.useState)(null),S=Object(c.a)(C,2),A=S[0],B=S[1],E=Object(r.useState)(null),I=Object(c.a)(E,2),R=I[0],U=I[1],D=Object(r.useState)(!1),F=Object(c.a)(D,2),M=F[0],P=F[1];return Object(r.useEffect)((function(){if(o.rows&&e.current.length>0&&o.event)if(!(e.current[o.event.e_row][o.event.e_col]===o.event.value||e.current[o.event.e_row][o.event.e_col]>0&&0!==o.event.value)&&(0!==o.event.value?t.current+=1:t.current-=1),t.current>=17){e.current[o.event.e_row][o.event.e_col]=o.event.value;var n=d(e.current);h(n||[])}else h([])}),[o]),Object(j.jsxs)("div",{className:"App",style:{marginBottom:"60px"},children:[Object(j.jsx)("header",{className:M&&null===x.solution&&A?"App-header fail":"App-header",children:M&&null===x.solution&&A?Object(j.jsx)("h1",{children:"Not Solvable"}):Object(j.jsx)("h1",{children:"Sudoku Solver"})}),Object(j.jsx)(g,{fileUploadHandler:function(e){var t=e.target.files[0],n=new FileReader;try{n.readAsText(t),U(t.name)}catch(r){}n.onloadend=function(e){var t=e.target.result;B(t)}},selectedFile:A,fileName:R,fileUploaded:M,onClickHandler:function(){if(null!==A){var e=f(A);e?(y(e),P(!0),N(!1)):alert("Please upload a valid sudoku grid")}},reset:w,handleReset:function(){N(!0),B(null),U(null),P(!1),a([]),t.current=0,h([])},handleUserGrid:function(n){if("create"===n||"reset"===n){var r=f("0".repeat(81),!0);a(r),t.current=0}else"upload"===n&&(y(v(e.current,!0,b)),P(!0),N(!1),a([]))},userSudoku:0!==o.length,userSudokuSolvable:0!==b.length,MIN_GRID_VALUES:17,count:t.current}),0!==o.length&&Object(j.jsx)(m,{sudoku:o,onChange:function(t){t.value=isNaN(t.value)?0:t.value;for(var n=[],r=0;r<o.rows.length;++r){for(var l=[],c=0;c<o.rows[0].cols.length;c++)l.push(o.rows[r].cols[c].value);n.push(l)}e.current=n,a((function(e){return Object(u.a)(Object(u.a)({},e),{},{event:{value:e.rows[t.row].cols[t.col].value=t.value,e_row:t.row,e_col:t.col}})}))}}),(null!==A||b)&&M&&Object(j.jsx)(m,{sudoku:x,onChange:function(e){if(e.value=isNaN(e.value)?0:e.value,y((function(t){return Object(u.a)(Object(u.a)({},t),{},{sudoku:{value:t.rows[e.row].cols[e.col].value=e.value}})})),!x.solved){var t=function(e,t){var n=e.rows.map((function(e){return e.cols.map((function(e){return e.value}))}));n[t.row][t.col]=t.value;for(var r=0;r<n[0].length;r++)for(var l=0;l<n.length;l++)if(0===n[r][l]||n[r][l]!==e.solution[r][l])return!1;return!0}(x,e);t&&y((function(e){return Object(u.a)(Object(u.a)({},e),{},{solved:!0,sudoku:{value:e.rows.forEach((function(e){return e.cols.forEach((function(e){!1===e.readonly&&(e.readonly=!0,e.correct=!0)}))}))}})}))}},updateTime:function(e){y((function(t){return Object(u.a)(Object(u.a)({},t),{},{time:e})}))},resetBoard:function(){A?y(f(A)):b&&e?y(v(e.current,!0,b)):alert("Error Resetting the grid")}}),Object(j.jsx)("span",{className:null===x.solution?"not-allowed":"",children:(null!==A||b)&&M&&!x.solved&&Object(j.jsx)("button",{className:null===x.solution?"solve_sudoku button unclickable":"solve_sudoku button",onClick:function(){null!==x.solution?y((function(e){return Object(u.a)(Object(u.a)({},e),{},{sudoku:{value:e.rows.forEach((function(t){return t.cols.forEach((function(t){if(!1===t.readonly){var n=t.value;t.value=e.solution[t.row][t.col],t.readonly=!0,t.correct=e.solution[t.row][t.col]===n,t.zero=0===n}}))}))},solved:!0,solveByAlgo:!0})})):y((function(e){return Object(u.a)(Object(u.a)({},e),{},{solved:!0,sudoku:{value:e.rows.forEach((function(e){return e.cols.forEach((function(e){e.value=-1,e.correct=!1,e.readonly=!0}))}))}})}))},children:"Solve"})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,l=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),l(e),o(e),a(e)}))};a.a.render(Object(j.jsx)(l.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),y()}},[[13,1,2]]]);
//# sourceMappingURL=main.3cd0984c.chunk.js.map